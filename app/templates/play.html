<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Partie en cours</title>
</head>
<body>
    <h1>Partie en cours</h1>

    <p>Temps restant : <span id="timer" data-remaining="{{ remaining_time }}"></span></p>


    <script>
        const timerElement = document.getElementById("timer");
        let remaining = parseInt(timerElement.dataset.remaining, 10);

        function updateTimer() {
            const minutes = String(Math.floor(remaining / 60)).padStart(2, '0');
            const seconds = String(remaining % 60).padStart(2, '0');
            timerElement.textContent = minutes + ":" + seconds;

            if (remaining <= 0) {
                window.location.href = "{{ url_for('main.game_over') }}";
                return;
            }

            remaining -= 1;
            setTimeout(updateTimer, 1000);
        }

        updateTimer();
    </script>
</body>
</html>
